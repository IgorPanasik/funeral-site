/* empty css               */(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();const u={header:document.getElementById("header"),mobile:{burger:document.getElementById("burger"),menu:document.getElementById("mobileMenu"),links:document.querySelectorAll(".mobile-menu__link")},about:{slider:document.getElementById("aboutSlider"),dots:document.getElementById("sliderDots"),slides:document.querySelectorAll(".about__slide"),prev:document.querySelector(".about__slider-btn--prev"),next:document.querySelector(".about__slider-btn--next")},animations:{get animated(){return document.querySelectorAll(".animate-on-scroll")}},counters:document.querySelectorAll("[data-count]"),services:{tabs:document.querySelectorAll(".services__buttonWrapper .tab-button"),cards:document.querySelectorAll(".service-card")},portfolio:{tabs:document.querySelectorAll(".portfolio__buttonWrapper .tab-button"),grid:document.querySelector(".portfolio__grid"),moreBtn:document.querySelector(".portfolio__more")},modalGallery:{modal:document.getElementById("imageModal"),img:document.querySelector("#imageModal .gallery-modal__img"),close:document.querySelector("#imageModal .gallery-modal__close"),left:document.querySelector("#imageModal .gallery-modal__arrow--left"),right:document.querySelector("#imageModal .gallery-modal__arrow--right")},contact:{form:document.getElementById("contactForm"),phone:document.getElementById("phone"),success:document.getElementById("successModal"),close:document.getElementById("modalClose")},partners:{track:document.querySelector(".partners__track")},preload:{heroVideo:document.querySelector(".hero__video")}};function S(){const{form:o,phone:s,success:r,close:l}=u.contact;function t(n){const i=n.replace(/\D/g,"");let c="+375 ";return i.length>3&&(c+="("+i.substring(3,5)+") "),i.length>5&&(c+=i.substring(5,8)),i.length>8&&(c+="-"+i.substring(8,10)),i.length>10&&(c+="-"+i.substring(10,12)),c}s.addEventListener("input",n=>{n.target.value=t(n.target.value)}),o.addEventListener("submit",n=>{n.preventDefault();const i=new FormData(contactForm);Object.fromEntries(i),r.classList.add("active"),document.body.style.overflow="hidden",o.reset()});function e(){r.classList.remove("active"),document.body.style.overflow=""}l.addEventListener("click",e),r.querySelector(".modal__backdrop").addEventListener("click",e),document.addEventListener("keydown",n=>{n.key==="Escape"&&successModal.classList.contains("active")&&e()})}function k(){const o=u.counters,s=new IntersectionObserver(r=>{r.forEach(l=>{if(l.isIntersecting){const t=l.target,e=parseInt(t.dataset.count);let n=0;const i=e/50,d=2e3/50,g=setInterval(()=>{n+=i,n>=e?(t.textContent=e.toLocaleString()+"+",clearInterval(g)):t.textContent=Math.floor(n).toLocaleString()},d);s.unobserve(t)}})},{threshold:.5});o.forEach(r=>{s.observe(r)})}function I(){function o(){window.scrollY>50?u.header.classList.add("scrolled"):u.header.classList.remove("scrolled")}window.addEventListener("scroll",o,{passive:!0})}const{burger:E,menu:w,links:q}=u.mobile;function j(){function o(){E.classList.toggle("active"),w.classList.toggle("active"),document.body.style.overflow=w.classList.contains("active")?"hidden":""}E.addEventListener("click",o),q.forEach(s=>{s.addEventListener("click",o)})}const L={ГРОБЫ:[{src:"./images/coffins/gdd2-blue.jpg",title:"ГДД-2 синий",subtitle:"Обитые тканью",large:!0},{src:"./images/coffins/gdd2-brown.jpg",title:"ГДД-2 коричневый",subtitle:"Обитые тканью"},{src:"./images/coffins/gdd2-red.jpg",title:"ГДД-2 бордовый",subtitle:"Обитые тканью"},{src:"./images/coffins/com-4-white.jpg",title:"Комбинированный эконом белый",subtitle:"Комбинированные",large:!0},{src:"./images/coffins/comb-4-blue.jpg",title:"Комбинированный эконом белый",subtitle:"Комбинированные"},{src:"./images/coffins/comb-brown.jpg",title:"Комбинированный эконом коричневый",subtitle:"Комбинированные"},{src:"./images/coffins/comb-red.jpg",title:"Комбинированный эконом бордовый",subtitle:"Комбинированные"},{src:"./images/coffins/comb-6-white.jpg",title:"Комбинированный 6-гранный белый",subtitle:"Комбинированные",large:!0},{src:"./images/coffins/comb-rez-red.jpg",title:"Комбинированный 6-гранный бордовый",subtitle:"Комбинированные"},{src:"./images/coffins/lak-3d.jpg",title:"Кристо 3D",subtitle:"Лакированные",large:!0},{src:"./images/coffins/lak-light.jpg",title:"Х-14 Орех Светлый",subtitle:"Лакированные"},{src:"./images/coffins/lak-m6-white.jpg",title:"М-6 Белый",subtitle:"Лакированные"},{src:"./images/coffins/lak-rez.jpg",title:"Х-14 Резной",subtitle:"Лакированные"},{src:"./images/coffins/lak-vishnya-rez-vechnay.jpg",title:"Вечная память Вишня",subtitle:"Лакированные"},{src:"./images/coffins/lak-vishnya.jpg",title:"Х-13 Вишня",subtitle:"Лакированные"},{src:"./images/coffins/x-8.jpg",title:"Х-8 Саркофаг",subtitle:"VIP",large:!0},{src:"./images/coffins/x-8-dr.jpg",title:"Х-8 Саркофаг ДР",subtitle:"VIP"},{src:"./images/coffins/x-9-dr-rez.jpg",title:"Х-9 ДР Резной",subtitle:"VIP"}],ВЕНКИ:[{src:"./images/wreaths/dv-1.png",title:"Венок серии ДВ-1",subtitle:"Венки"},{src:"./images/wreaths/dv-2-1.png",title:"Венок серии ДВ-2",subtitle:"Венки"},{src:"./images/wreaths/dv-3.png",title:"Венок серии ДВ-3",subtitle:"Венки"},{src:"./images/wreaths/vr-1.png",title:"Венок серии ВР-1",subtitle:"Венки"},{src:"./images/wreaths/vr-1-2-1.png",title:"Венок серии ВР-2",subtitle:"Венки"},{src:"./images/wreaths/vr-1-3.png",title:"Венок серии ВР-3",subtitle:"Венки"},{src:"./images/wreaths/korzina-pamyat-1_compressed.png",title:"Корзина “Память” Белая",subtitle:"Корзины"},{src:"./images/wreaths/korzina-pamyat-2_compressed.png",title:"Корзина “Память” Голубая",subtitle:"Корзины"},{src:"./images/wreaths/korzina-pamyat-4_compressed.png",title:"Корзина “Память” Бело-фиолетовая",subtitle:"Корзины"},{src:"./images/wreaths/venok-serii-florina-2_compressed-1.jpg",title:"Венки “Флорина-2”",subtitle:"Венки"},{src:"./images/wreaths/venok-serii-florina-3_compressed-1.jpg",title:"Венки “Флорина-3”",subtitle:"Венки"},{src:"./images/wreaths/venok-serii-gs-3_compressed-1.jpg",title:"Венок серии ГС-3",subtitle:"Венки"},{src:"./images/wreaths/venok-serii-k18-1-1_compressed-1.jpg",title:"Венок серии К-18",subtitle:"Венки"},{src:"./images/wreaths/venok-serii-k18-1-3_compressed-1.jpg",title:"Венок серии К-18-3",subtitle:"Венки"},{src:"./images/wreaths/venok-serii-kb-3_compressed-1.jpg",title:"Венок серии КВ-3",subtitle:"Венки"},{src:"./images/wreaths/venok-serii-vaza-2_compressed-1.jpg",title:"Венок “Ваза” Красный",subtitle:"Венки"},{src:"./images/wreaths/ov-2.png",title:"Композиция ритуальная 2",subtitle:"Композиция",large:!0},{src:"./images/wreaths/ov-3.png",title:"Композиция ритуальная 3",subtitle:"Композиция",tall:!0}],ЗАЛЫ:[{src:"./images/img4.jpg",title:"Зал прощания",subtitle:'г. Минск, ул.Кижеватова, д.58Е (УЗ "БСМП")'},{src:"./images/img5.jpg",title:"Зал прощания",subtitle:"г. Минск, ул. Кульман, 33а(VIP)",large:!0},{src:"./images/img6.jpg",title:"Зал прощания",subtitle:"г. Минск, ул. Ольшевского, 12(1)",tall:!0},{src:"./images/img10.webp",title:"Зал прощания",subtitle:"г. Минск, ул. Кулешова, 49(Дом Скорби Церемониал)"},{src:"./images/img11.webp",title:"Зал прощания",subtitle:"г. Минск, Минский район, 9-й км Могилевского шоссе"}]};function M(){const{modal:o,img:s,close:r,left:l,right:t}=u.modalGallery;let e=0,n=document.querySelector(".portfolio__buttonWrapper .tab-button.active")?.textContent.trim()||"ГРОБЫ";function i(a){e=a;const h=L[n];if(!h){console.error("Нет такой категории в portfolioData:",n);return}const y=h[e];if(!y){console.error("Нет элемента с таким индексом в категории:",n,"index:",e);return}s.src=y.src,o.classList.add("open")}function c(){o.classList.remove("open")}function d(){const a=L[n];e=(e+1)%a.length,i(e)}function g(){const a=L[n];e=(e-1+a.length)%a.length,i(e)}u.portfolio.grid.addEventListener("click",a=>{const h=a.target.closest(".portfolio__item");if(!h)return;const y=document.querySelector(".portfolio__buttonWrapper .tab-button.active");y&&(n=y.textContent.trim(),i(Number(h.dataset.index)))}),r.addEventListener("click",c),o.addEventListener("click",a=>{a.target===o&&c()}),l.addEventListener("click",g),t.addEventListener("click",d),document.addEventListener("keydown",a=>{o.classList.contains("open")&&(a.key==="Escape"&&c(),a.key==="ArrowRight"&&d(),a.key==="ArrowLeft"&&g())});let m=0,v=0;function f(a){m=a.changedTouches[0].clientX}function b(a){v=a.changedTouches[0].clientX}function p(){const a=v-m;Math.abs(a)<50||(a>0?g():d())}s.addEventListener("touchstart",f),s.addEventListener("touchmove",b),s.addEventListener("touchend",p)}function x(){const{track:o}=u.partners;o.addEventListener("mouseenter",()=>{o.style.animationPlayState="paused"}),o.addEventListener("mouseleave",()=>{o.style.animationPlayState="running"})}const _=new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting&&(s.target.classList.add("visible"),_.unobserve(s.target))})},{root:null,rootMargin:"0px",threshold:.1});function B(){const{animated:o}=u.animations;o.forEach(s=>{_.observe(s)})}function C(){const{tabs:o,grid:s,moreBtn:r}=u.portfolio,l=4;let t="ГРОБЫ",e=0;function n(){u.animations.animated.forEach(d=>_.observe(d))}function i(d){t=d,e=0,s.innerHTML="",c()}function c(){const g=L[t].slice(e,e+l);g.forEach((m,v)=>{const f=document.createElement("div");f.className="portfolio__item animate-on-scroll",f.dataset.index=e+v,m.large&&f.classList.add("portfolio__item--large"),m.tall&&f.classList.add("portfolio__item--tall"),f.innerHTML=`
                <img src="${m.src}" data-index="${e+v}" alt="${m.title}">
                <div class="portfolio__overlay">
                    <h3>${m.title}</h3>
                    <p>${m.subtitle}</p>
                </div>
            `,s.appendChild(f)}),e+=g.length,e>=L[t].length?r.style.display="none":r.style.display="block",n()}i("ГРОБЫ"),o.forEach(d=>{d.addEventListener("click",()=>{o.forEach(g=>g.classList.remove("active")),d.classList.add("active"),i(d.textContent.trim())})}),r.addEventListener("click",c)}function T(){const{heroVideo:o}=u.preload;o.addEventListener("loadeddata",()=>{document.body.classList.add("loaded")}),setTimeout(()=>{document.body.classList.add("loaded")},3e3)}function A(){const o=document.getElementById("scrollCard"),s=document.getElementById("phoneToggle"),r=document.querySelector(".scroll-card-container"),l=document.querySelector("#about");new IntersectionObserver(e=>{e[0].isIntersecting&&r.classList.add("isOpen")},{threshold:.2}).observe(l),s.addEventListener("click",()=>{o.classList.toggle("collapsed")}),o.addEventListener("click",()=>{o.classList.toggle("collapsed")})}function P(){const o=document.getElementById("scrollTopBtn");window.addEventListener("scroll",()=>{window.scrollY>400?o.classList.add("show"):o.classList.remove("show")}),o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function D(){const o={econom:["Траурный венок с лентой.","Транспорт для перевозки: по кол-ву свободных мест в катафалке.","Доставка товаров в Минске: ритуальные принадлежности по выбору.","Процесс сжигания.","Ведущий церемонии.","Оформление заказа на кремацию.","Туалет покойного на дому."],standart:["Поминальный набор.","Траурный венок с лентой.","Транспорт для перевозки: катафалк на 8 мест.","Процесс сжигания.","Предоставление ритуального зала.","Туалет покойного на дому."],premium:["Памятная табличка с надписью.","Поминальный набор.","Траурный венок с лентой.","Транспорт для перевозки: большой выбор автомобилей.","Доставка товаров в Минске: катафалк.","Процесс сжигания.","Предоставление ритуального зала.","Ведущий церемони.","Оформление заказа на кремацию.","Туалет покойного на дому."]},{tabs:s,cards:r}=u.services,l=[...r].map(e=>[...e.querySelectorAll(".service-card__features li")].map(i=>i.innerHTML));function t(e,n){const i=e.querySelector(".service-card__features");i.textContent="",n.forEach(c=>{const d=document.createElement("li");d.innerHTML=` <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M20 6L9 17l-5-5" /> </svg> ${c} `,i.appendChild(d)})}s.forEach((e,n)=>{e.addEventListener("click",()=>{if(s.forEach(i=>i.classList.remove("active")),e.classList.add("active"),e.textContent.trim()==="КРЕМАЦИЯ"){t(r[0],o.econom),t(r[1],o.standart),t(r[2],o.premium);const i=r[2].querySelector(".service-card__price-value");i.textContent="ОТ 2900 BYN";const c=r[2].querySelector(".service-card__title");c.textContent="ОТ 2900 BYN"}else{t(r[0],l[0]),t(r[1],l[1]),t(r[2],l[2]);const i=r[2].querySelector(".service-card__price-value");i.textContent="ОТ 3000 BYN";const c=r[2].querySelector(".service-card__title");c.textContent="ОТ 3000 BYN"}})})}function O(){const{dots:o,slides:s,prev:r,next:l}=u.about;let t=0,e;function n(){s.forEach((f,b)=>{const p=document.createElement("button");p.classList.add("about__slider-dot"),b===0&&p.classList.add("active"),p.setAttribute("aria-label",`Слайд ${b+1}`),p.addEventListener("click",()=>c(b)),o.appendChild(p)})}function i(){o.querySelectorAll(".about__slider-dot").forEach((b,p)=>{b.classList.toggle("active",p===t)})}function c(f){s[t].classList.remove("active"),t=f,t>=s.length&&(t=0),t<0&&(t=s.length-1),s[t].classList.add("active"),i()}function d(){c(t+1)}function g(){c(t-1)}function m(){e=setInterval(d,5e3)}function v(){clearInterval(e)}n(),m(),r.addEventListener("click",()=>{v(),g(),m()}),l.addEventListener("click",()=>{v(),d(),m()})}function N(){document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",function(s){const r=this.getAttribute("href");if(r==="#")return;s.preventDefault();const l=document.querySelector(r);if(l){const t=u.header.offsetHeight,e=l.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:e,behavior:"smooth"})}})})}document.addEventListener("DOMContentLoaded",()=>{I(),j(),O(),B(),k(),N(),D(),C(),M(),S(),x(),T(),P(),A()});
